{% extends "base.html" %}

{% block page_styles %}{% endblock %}

{% block page_name %}Node List{% endblock %}

{% block page_buttons %}{% endblock %}

{% block content %}


<table class="table table-hover" id="main-table">
  <thead>
    <tr>
      <th scope="col">Node Name</th>
      <th scope="col">Type</th>
    </tr>
  </thead>
  <tbody>
    {% for reading in data %}
        <tr>
          <td><input type=submit name={{reading.name}} value={{reading.name}}
            onclick="location.href='{% url 'node-details' forloop.counter %}'"></td>
          <td>{{reading.type}}</td>
        </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block page_scripts %}
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
  <script type="text/javascript">
  $( document ).ready(function() {
            setInterval(function(){
                // Reload the table of values
                $("#main-table").load(" #main-table");
            }, 2000);
    });
  </script>
{% endblock %}